# （11）- 逻辑运算符 | 我是一个有逻辑的人

[toc]

## 一、逻辑运算符

### 1、概览

- 逻辑运算符是用来做逻辑运算的，也就是我们数学中常说的 “与或非”。
- C语言中的逻辑运算符主要有三个，如下：



![20210628071255698](D:/GitRep/CP/notes/%EF%BC%8811%EF%BC%89-%20%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6%20%20%E6%88%91%E6%98%AF%E4%B8%80%E4%B8%AA%E6%9C%89%E9%80%BB%E8%BE%91%E7%9A%84%E4%BA%BA.assets/20210628071255698.png)

### 2、表示方式

- C语言中的逻辑运算符和数学中的含义类似，但是表示方法截然不同，对应关系如下：

| 逻辑运算符释义 | 操作数个数 | C语言表示 | 数学表示 |
| -------------- | ---------- | --------- | -------- |
| 与             | 二元操作符 | &&        | ∧        |
| 或             | 二元操作符 | \|\|      | ∨        |
| 非             | 二元操作符 | !         | ∨        |

- 二元操作符的操作数是跟在符号两边的，而一元操作符的操作数则是跟在符号右边的。
- 逻辑运算符的操作数可以是变量、数值 或 表达式。例如：

1. #### 变量

   - a && b
   - a || b
   - a || b

2. #### 数值

   - a && 520
   - 1314 || 520
   - !0

3. #### 表达式

   - a + b && c + d
   - a + b || c + d
   - !(a + b)

## 二、逻辑运算符的应用

### 1、运算结果

- 在C语言中，我们一般将值为零的变量、数值或表达式称为“假”，非零值称为“真”。

1. #### 与运算（&&）

> 对于与运算，参与运算的操作数都为 “真” 时，结果才为 “真”，否则为 “假”。

```c
#include <stdio.h>
int main() {
    printf("%d\n", 0 && 0);  // 0
    printf("%d\n", 5 && 0);  // 0
    printf("%d\n", 0 && 5);  // 0
    printf("%d\n", 5 && 9);  // 1
    return 0;
}
```

- 注释中的内容，就是实际输出的内容。
- 我们发现，无论操作数原本是什么，程序只关心它是 “零” 还是 “非零”。然后根据`&&`运算符自身的运算规则进行运算。

> 有假必假

2. #### 或运算（||）

> 对于或运算，参与运算的操作数都为“假”时，结果才为“假”，否则为“真”。

```c
#include <stdio.h>
int main() {
    printf("%d\n", 0 || 0);  // 0
    printf("%d\n", 5 || 0);  // 1
    printf("%d\n", 0 || 5);  // 1
    printf("%d\n", 5 || 9);  // 1
    return 0;
}
```

- 注释中的内容，就是实际输出的内容。
- 我们同样发现，无论操作数原本是什么，程序只关心它是 “零” 还是 “非零”。然后根据`||`运算符自身的运算规则进行运算。

> 有真必真

3. #### 非运算（!）

> 对于非运算，操作数为 “真”，运算结果为 “假”；操作数为 “假”，运算结果为 “真”；

```c
#include <stdio.h>
int main() {
    printf("%d\n", !0);  // 1
    printf("%d\n", !5);  // 0
    return 0;
}
```

- 注释中的内容，就是实际输出的内容。
- 八个字概括：非真即假，非假即真。

### 2、运算符嵌套

- 和 关系运算符 一样，逻辑运算符也是可以支持嵌套的，即运算结果可以继续作为逻辑运算符的操作数，例如如下代码：

```c
#include <stdio.h>
int main() {
    int a = !( (5 > 4) && (7 - 8) && (0 - 1) );
    printf("%d\n", a);
    return 0;
}
```

- `(5 > 4)`和`(7 - 8)`这两个表达式进行与运算，等价于：`1 && 1`，结果为`1`。
- `1`和`(0 - 1)`继续进行与运算，等价于`1 && 1`，结果为`1`。
- 对`1`进行非运算，得到结果为 `0`。
- 所以这段代码最后输出的结果为：

```c
0
```

### 3、运算符优先级

- 接下来，我们看下三个运算符混合运用的情况，对于如下代码：

```c
#include <stdio.h>
int main() {
    int a = !( 1 || 1 && 0 );
    printf("%d\n", a);
    return 0;
}
```

- 这个问题的答案是：

```c
0
```

- 我们再来看个例子，区别只是在`1 || 1`的两边加上一个括号。

```c
#include <stdio.h>
int main() {
    int a = !( (1 || 1) && 0 );
    printf("%d\n", a);
    return 0;
}
```

- 现在输出的答案变成了：

```c
1
```

- 这是为什么呢？

- 因为`&&`的优先级是比`||`要高的，所以在没有任何括号的情况下，`&&`会优先计算，简而言之，对于刚才的`( 1 || 1 && 0 )`，我们把它等价成`( 1 || (1 && 0) )`，这样是不是就好理解了。

- 用类似的方法，我们可以得到 `!`的优先级是最高的，所以这三个符号的优先级排序如下：

- ```c
  || < && < !
  ```

> 对于运算符的优先级和结合性，是平时编码过程中非常容易犯错的点，所以如果记不住，那就老老实实加括号吧。
